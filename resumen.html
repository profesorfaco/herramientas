
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Muestra</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: Helvetica, Arial, sans-serif;
      background: #fafafa;
      color: #888;
      padding: 20px;
    }
    
    header {
      margin-bottom: 30px;
      width:min(100%,900px);
      margin:1rem auto;
    }
    
    header > h1 {
      font-size: calc(1.25rem + 1.25vw);
      font-weight: 300;
      margin-bottom: 1rem;
      color:#aaa;
      text-align: center;
    }
 
    header > h2 {
      font-size: calc(1rem + 0.75vw);
      font-weight: 300;
      padding-left:0.15rem;
      padding-right:0.15rem;
      margin: 1rem auto;
      line-height: 1.35;
    }

    header > p {
      font-size: 1rem;
      font-weight: 400;
      padding-bottom: 1.5rem;
      padding-left:0.3rem;
      padding-right:0.3rem;
      margin: 1rem auto 3rem auto;
      line-height: 1.5;
      border-bottom:1px solid #ddd;
    }


    header > p > em{
      font-weight: 400;
      font-style: normal;
    }


    header > p > a{
      font-weight: 400;
      color:#333;
    }

    header > p > a:hover{
      color:#000;
    }

    .filter-container {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
    }
    
    select {
      padding: 1rem;
      font-size: 1rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
      cursor: pointer;
      width: calc(100%);
      margin: 0.25rem -0.25rem 0.75rem -0.25rem;
    }
    
    select:focus {
      outline: none;
      border-color: #333;
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 15px;
      max-width: 1800px;
      margin: 0 auto;
    }
    
    .grid-item {
      background: white;
      border-radius: 4px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
    }
    
    .grid-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .grid-item img {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      display: block;
    }
    
    .grid-item-info {
      padding: 10px;
    }
    
    .grid-item-course {
      font-size: 0.85rem;
      color: #666;
      line-height: 1.3;
    }
    
    .loading {
      text-align: center;
      padding: 40px;
      color: #999;
    }
    
    .error {
      text-align: center;
      padding: 40px;
      color: #c33;
    }
    
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      justify-content: center;
      align-items: center;
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
    }
    
    .modal-close {
      position: absolute;
      top: 20px;
      right: 40px;
      color: #fff;
      font-size: 40px;
      font-weight: 300;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .modal-close:hover {
      color: #ccc;
    }
    
    /* Responsive */
    @media (max-width: 1600px) {
      .grid {
        grid-template-columns: repeat(6, 1fr);
      }
    }
    
    @media (max-width: 1200px) {
      .grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
    
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: 1fr;
      }
      
      .modal-close {
        top: 10px;
        right: 20px;
        font-size: 30px;
      }
    }

    footer {
      width:min(100%,900px);
      margin:2rem auto;
      padding-top:1rem;
      border-top:4px solid #eee;
      text-align: center;
      font-size: 90%;
    }

    footer a{
      color:dimgray;
    }


  </style>
</head>
<body>
  <header>
    <h1>Muestra de 27 estudiantes y 417 de sus trabajos</h1>
    <h2>La mayor parte del estudiantado de la muestra ingresará, en primer semestre de 2026, al segundo ciclo de formación (donde se ofertan asignaturas específicas de cada mención de la carrera).</h2>
    <div class="filter-container">
      <select id="courseFilter">
        <option value="all">Todos los trabajos</option>
      </select>
    </div>
    <p id="descriptor">Al finalizar el primer ciclo de formación, el (la) estudiante reconocerá problemas esenciales, modelará y formalizará posibles soluciones mediante metodologías y herramientas propias de la disciplina, y habrá adquirido las competencias básicas para conceptualizar, representar y comunicar sus propuestas de Diseño (art.5 del reglamento de carrera).</p>
  </header>
  
  <div id="gridContainer">
    <div class="loading">Cargando trabajos...</div>
  </div>

  <footer>
    <p>Desarrollado por  <a href="https://faco.cl/profesor/" target="_blank" class="link-secondary" title="Felipe Alberto Cortez Orellana">FACO</a> | jefediseno@uchilefau.cl </p>
  </footer>

  <!-- Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img class="modal-content" id="modalImage" alt="Imagen ampliada">
  </div>

  <script>
    const API_URL = 'https://profesorfaco.github.io/herramientas/final.json';
    let allProjects = [];
    let currentFilter = 'all';

    async function loadProjects() {
      try {
        const response = await fetch(API_URL);
        if (!response.ok) throw new Error('Error al cargar los datos');
        
        allProjects = await response.json();
        populateFilters();
        renderGrid();
      } catch (error) {
        document.getElementById('gridContainer').innerHTML = `
          <div class="error">Error al cargar los trabajos. Por favor, intenta nuevamente.</div>
        `;
        console.error('Error:', error);
      }
    }

    function populateFilters() {
      const courses = [...new Set(allProjects.map(p => p.course_code))];
      const select = document.getElementById('courseFilter');
      
      courses.forEach(code => {
        const courseName = allProjects.find(p => p.course_code === code)?.course || code;
        const option = document.createElement('option');
        option.value = code;
        option.textContent = `${courseName}`;
        select.appendChild(option);
      });
      
      select.addEventListener('change', (e) => {
        currentFilter = e.target.value;
        updateDescriptor(currentFilter);
        renderGrid();
      });
    }

    function updateDescriptor(filterValue) {
      const descriptor = {
        "all": "Al finalizar el primer ciclo de formación, el (la) estudiante reconocerá problemas esenciales, modelará y formalizará posibles soluciones mediante metodologías y herramientas propias de la disciplina, y habrá adquirido las competencias básicas para conceptualizar, representar y comunicar sus propuestas de Diseño (art.5 del reglamento de carrera).",
        "AUD10001": "Proyecto I – Desarrollo de la observación, definición y conceptualización de relaciones presentes en el entorno a través de los procesos de conceptualización y las herramientas de representación propias del Diseño.",
        "AUD20001": "Proyecto II – Profundizar en la observación y problematización del contexto, entregar herramientas para la conceptualización de propuestas de diseño a través de proyectos de baja complejidad que aborden aspectos de interfaz e interacción.",
        "AUD30001": "Proyecto III – Conocimiento, aplicación y comprensión de la metodología del diseño, con énfasis en sus especialidades. Integración de los conceptos de contexto y usuario, problema o necesidad, requerimientos, atributos y restricciones para el planteamiento de propuestas de diseño.",
        "AUD40001": "Proyecto IV – Profundización en herramientas e instrumentos propios de la metodología del diseño, con énfasis en sus especialidades. Desarrollo de propuestas de complejidad media, que consideren contextos multiescalares e integren restricciones y variables productivas básicas.",
        "AUD10003": "Lenguaje y Significación – Comunicación, primer semestre – Desarrollo del lenguaje en función de la sintaxis, el análisis, el significado y al servicio de la propuesta conceptual y proyectual.",
        "AUD10004": "Matemáticas Aplicadas al Diseño – Tecnología, primer semestre – Entrega de herramientas específicas para la solución de problemas matemáticos frecuentes en el ejercicio profesional del Diseño (ej. Razones y proporciones, áreas y volúmenes, geometría analítica, álgebra, fundamentos estadísticos).",
        "AUD10005": "Configuración Visual I – Morfología, primer semestre – Entrega y práctica de los fundamentos para la configuración en el plano, el estudio de los significados y procesos perceptivos, mediante el uso de la geometría plana, a través de técnicas análogas y uso de software gráfico.",
        "AUD20003": "Representación Conceptual – Comunicación, segundo semestre – Representación de ideas, propuestas, interacciones y relaciones a través de imágenes, mediante técnicas como el sketch, la fotografía, los mapas conceptuales, el video y otras.",
        "AUD20005": "Configuración Visual II – Morfología, segundo semestre – Entrega y práctica de los fundamentos para la configuración en el espacio, el estudio de los significados y procesos perceptivos, mediante el uso de la geometría tridimensional, a través técnicas análogas y uso de software de modelamiento 3D.",
        "AUD30002": "Diseño, Estética y Sociedad – Teoría, tercer semestre – Entrega conocimientos generales y capacidades para formular, desarrollar, exponer y debatir posturas fundamentadas en torno a intervenciones disciplinares en contextos sociales, tecnológicos, económicos y culturales.",
        "AUD30003": "Comunicación del Proyecto de Diseño – Comunicación, tercer semestre – Integración de técnicas gráficas, multimediales, conceptuales y discursivas para la comunicación de ideas, propuestas y soluciones finales de modo apropiado a diferentes contextos profesionales y disciplinares.",
        "AUD30004": "Ergonomía y Factores Humanos – Tecnología, tercer semestre – Conocer los criterios ergonómicos, antropométricos, biomecánicos y humanos que inciden en la interacción entre las personas y sus contextos. Capacitar en el uso de herramientas e instrumentos específicos de la ergonomía para la evaluación y optimización de propuestas de diseño.",
        "AUD30005": "Procesos y Prototipos I – Morfología, tercer semestre – Introducción al prototipo como parte de la metodología del Diseño. Conocimiento teórico y práctico de procesos productivos de baja complejidad para la comunicación y validación de propuestas de diseño a través de prototipos.",
        "AUD40005": "Procesos y Prototipos II  – Morfología, cuarto semestre – Integración del proceso de elaboración de prototipos en los procesos de producción. Conocimiento teórico y práctico de procesos productivos semi-industriales e industriales y para la verificación e integración de propuestas de diseño de diferente naturaleza.",
        "AUD40004": "Herramientas Computacionales  – Tecnología, cuarto semestre – Conocer los fundamentos teóricos de la computación gráfica, su relación con el diseño y su integración a las diversas etapas del proyecto. Iniciarse en el dominio de herramientas para la representación técnica bidimensional bajo normativa y el modelamiento tridimensional de superficies con fines de representación y productivos."
      };
      
      const descriptorElement = document.getElementById('descriptor');
      descriptorElement.textContent = descriptor[filterValue] || descriptor["all"];
    }

    function renderGrid() {
      const container = document.getElementById('gridContainer');
      const filtered = currentFilter === 'all' 
        ? allProjects 
        : allProjects.filter(p => p.course_code === currentFilter);
      
      if (filtered.length === 0) {
        container.innerHTML = '<div class="loading">No se encontraron trabajos para este filtro.</div>';
        return;
      }
      
      container.innerHTML = `<div class="grid">${filtered.map(project => `
        <div class="grid-item" onclick="openModal('${project.gallery}')">
          <img src="${project.photo}" alt="${project.title}" loading="lazy">
          <div class="grid-item-info">
            <div class="grid-item-course">${project.student}<br/><small>${project.course}: ${project.title} (Prof. ${project.lecturer}) </small></div>
          </div>
        </div>
      `).join('')}</div>`;
    }

    function openModal(galleryUrl) {
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      modal.classList.add('active');
      modalImg.src = galleryUrl;
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      const modal = document.getElementById('imageModal');
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Event listeners para cerrar el modal
    document.getElementById('imageModal').addEventListener('click', function(e) {
      if (e.target === this || e.target.classList.contains('modal-close')) {
        closeModal();
      }
    });

    // Cerrar modal con tecla Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });

    loadProjects();
  </script>
</body>
</html>
